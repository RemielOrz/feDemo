define(["OE"],function(a){function b(a,b){this.options=c.extend({},{"class":""},b),this.$el=c(a),this.$touch=c("<div></div>").css("overflow","hidden"),this.options.class&&this.$touch.addClass(this.options.class),this.$el.children().appendTo(this.$touch),this.$touch.appendTo(this.$el),this.init()}console.log("module:iTouchMove");var c=a.$,d=a.utils;return b.prototype={init:function(){var a,b,e,f,g=this.$touch,h=d.getProperty("Transform"),i=g.height()-this.$el.height(),j=!(i>=0);g.on(d.events.down,c.proxy(function(b){b.stopPropagation(),i=g.height()-this.$el.height(),j=!(i>=0),a=d.getCursorPosition(b),f=parseInt(g[0].style[h].split(",")[1]),isNaN(f)&&(f=0)},this)),g.on(d.events.move,c.proxy(function(c){c.stopPropagation(),c.preventDefault();var k=d.getCursorPosition(c);if(a)if(b=k.x-a.x,e=k.y-a.y,j);else{var l=f+e;l>0&&(l=0),-i>l&&(l=-i),g[0].style[h]=d.support.transform3d?"translate3d(0,"+l+"px,0)":"translate(0,"+l+"px)"}},this)),g.on(d.events.up,c.proxy(function(a){a.stopPropagation(),console.log("ITouchMove Event: up",a)},this))}},a.ui.ITouchMove=b,function(b){b.fn.iTouchMove=function(c){b.extend({},c);return this.each(function(){var d=(b(this),this._iTouchMove);d||(d=new a.ui.ITouchMove(this,c)),this._iTouchMove=d}),this}}(a.$),b});